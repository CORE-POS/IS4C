<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>CORE POS - IS4C: TransRecord Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li id="current"><a href="classes.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
    <li><a href="examples.html"><span>Examples</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<h1>TransRecord Class Reference</h1><!-- doxytag: class="TransRecord" --><!-- doxytag: inherits="LibraryClass" --><p>Inheritance diagram for TransRecord:
<p><center><img src="class_trans_record.png" usemap="#TransRecord_map" border="0" alt=""></center>
<map name="TransRecord_map">
<area href="class_library_class.html" alt="LibraryClass" shape="rect" coords="0,0,85,24">
</map>
<a href="class_trans_record-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_trans_record.html#63c34a6abb06ad1ce1c961e60ee9eab6">addItem</a> ($strupc, $strdescription, $strtransType, $strtranssubType, $strtransstatus, $intdepartment, $dblquantity, $dblunitPrice, $dbltotal, $dblregPrice, $intscale, $inttax, $intfoodstamp, $dbldiscount, $dblmemDiscount, $intdiscountable, $intdiscounttype, $dblItemQtty, $intvolDiscType, $intvolume, $dblVolSpecial, $intmixMatch, $intmatched, $intvoided, $cost=0, $numflag=0, $charflag='')</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_trans_record.html#2634ef142976b2ad06218053a1822a6b">addRecord</a> ($named_params)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_trans_record.html#97deec93808990b89c6cecdc59f9679e">addQueued</a> ($upc, $description, $numflag=0, $charflag='', $regPrice=0)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_trans_record.html#ad11ee7b7004548b06c3e5527d467986">emptyQueue</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_trans_record.html#baf177ed7faaea716cf776e0a3fe7a37">addtax</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_trans_record.html#033a179d2a527f2a6a815ab1851eb663">addtender</a> ($strtenderdesc, $strtendercode, $dbltendered)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_trans_record.html#ffea2f6a9f22391329ab13d7bdc66950">addFlaggedTender</a> ($strtenderdesc, $strtendercode, $dbltendered, $numflag, $charflag)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_trans_record.html#ee7142a1fda7e3b9e81f76a496f11997">addcomment</a> ($comment)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_trans_record.html#4e47051a15342ec86d568de8d29df042">addchange</a> ($dblcashreturn, $strtendercode='CA')</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_trans_record.html#cf234ef07ffa61b6a11109b58e339082">addfsones</a> ($intfsones)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_trans_record.html#1956d51be1e6a2e27420155591ab202f">adddiscount</a> ($dbldiscount, $department)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_trans_record.html#dd239f182e81d4591f03a9d79b26b602">addfsTaxExempt</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_trans_record.html#fbf5148075acf4997607dc8780a3eb7a">discountnotify</a> ($strl)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_trans_record.html#c990dbf077f0ebfea81517ee0d0b0dfe">addTaxExempt</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_trans_record.html#1b2589f7d1e96ee1eefbfefaf24a15f5">reverseTaxExempt</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_trans_record.html#da34566c737d2c9a142b44775f4c580c">addcdnotify</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_trans_record.html#50fbfb508f920eb9056992c96ebfae24">addCoupon</a> ($strupc, $intdepartment, $dbltotal, $foodstamp=0, $tax=0)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_trans_record.html#fe1d4ee041ad8178ba5f330be83c24f8">addhousecoupon</a> ($strupc, $intdepartment, $dbltotal, $description='')</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_trans_record.html#de708b0df8fd849be1c05163133db53b">additemdiscount</a> ($intdepartment, $dbltotal)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_trans_record.html#201d107cf10964397c6f77bf582674bd">addTare</a> ($dbltare)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_trans_record.html#2ec7d613f6fa0e0ebf653f836eccd7d0">addVirtualCoupon</a> ($id)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_trans_record.html#e31e72ac5c8e9a18de06d1ff48fa6a97">addTransDiscount</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_trans_record.html#06a311892e9d0f7548a10991090583a1">addCashDrop</a> ($amt)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_trans_record.html#759d59ead14f99a3056f05633c30478d">addLogRecord</a> ($opts)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="cac9bdc7da506bae3cfa797a7d6031a5"></a><!-- doxytag: member="TransRecord::add_log_record" ref="cac9bdc7da506bae3cfa797a7d6031a5" args="($opts)" -->
static&nbsp;</td><td class="memItemRight" valign="bottom"><b>add_log_record</b> ($opts)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_trans_record.html#5331abddf2f479cdcc7527f877a271d4">finalizeTransaction</a> ($incomplete=false)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="df6213d85ce02ff5e8176bad66dde9ee"></a><!-- doxytag: member="TransRecord::debugLog" ref="df6213d85ce02ff5e8176bad66dde9ee" args="($val)" -->
static&nbsp;</td><td class="memItemRight" valign="bottom"><b>debugLog</b> ($val)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Defines functions for adding records to the transaction 
<p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="06a311892e9d0f7548a10991090583a1"></a><!-- doxytag: member="TransRecord::addCashDrop" ref="06a311892e9d0f7548a10991090583a1" args="($amt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static TransRecord::addCashDrop           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>amt</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add cash drop record 
</div>
</div><p>
<a class="anchor" name="da34566c737d2c9a142b44775f4c580c"></a><!-- doxytag: member="TransRecord::addcdnotify" ref="da34566c737d2c9a142b44775f4c580c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static TransRecord::addcdnotify           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add an informational record noting case discount $CORE_LOCAL setting "casediscount" controls the percentage shown 
</div>
</div><p>
<a class="anchor" name="4e47051a15342ec86d568de8d29df042"></a><!-- doxytag: member="TransRecord::addchange" ref="4e47051a15342ec86d568de8d29df042" args="($dblcashreturn, $strtendercode='CA')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static TransRecord::addchange           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>dblcashreturn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>strtendercode</em> = <code>'CA'</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add a change record (a special type of tender record) <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$dblcashreturn</em>&nbsp;</td><td>the change amount </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="ee7142a1fda7e3b9e81f76a496f11997"></a><!-- doxytag: member="TransRecord::addcomment" ref="ee7142a1fda7e3b9e81f76a496f11997" args="($comment)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static TransRecord::addcomment           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>comment</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add a comment to the transaction <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$comment</em>&nbsp;</td><td>is the comment text. Max length allowed is 30 characters. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="50fbfb508f920eb9056992c96ebfae24"></a><!-- doxytag: member="TransRecord::addCoupon" ref="50fbfb508f920eb9056992c96ebfae24" args="($strupc, $intdepartment, $dbltotal, $foodstamp=0, $tax=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static TransRecord::addCoupon           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>strupc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>intdepartment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>dbltotal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>foodstamp</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>tax</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add a manufacturer coupon record <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$strupc</em>&nbsp;</td><td>coupon UPC </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$intdepartment</em>&nbsp;</td><td>associated POS department </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$dbltotal</em>&nbsp;</td><td>coupon amount (should be negative) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$foodstamp</em>&nbsp;</td><td>mark coupon foodstamp-able </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$tax</em>&nbsp;</td><td>mark coupon as taxable</td></tr>
  </table>
</dl>
Marking a coupon as taxable will *reduce* the taxable total by the coupon amount. This is not desirable in all tax jurisdictions. The ini setting 'CouponsAreTaxable' controls whether the tax parameter is used. 
</div>
</div><p>
<a class="anchor" name="1956d51be1e6a2e27420155591ab202f"></a><!-- doxytag: member="TransRecord::adddiscount" ref="1956d51be1e6a2e27420155591ab202f" args="($dbldiscount, $department)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static TransRecord::adddiscount           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>dbldiscount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>department</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add a "YOU SAVED" record to the transaction. This is just informational and will not alter totals. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$dbldiscount</em>&nbsp;</td><td>discount amount </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$department</em>&nbsp;</td><td>associated department </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="ffea2f6a9f22391329ab13d7bdc66950"></a><!-- doxytag: member="TransRecord::addFlaggedTender" ref="ffea2f6a9f22391329ab13d7bdc66950" args="($strtenderdesc, $strtendercode, $dbltendered, $numflag, $charflag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static TransRecord::addFlaggedTender           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>strtenderdesc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>strtendercode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>dbltendered</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>numflag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>charflag</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add a tender record to the transaction with numflag &amp; charflag values <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$strtenderdesc</em>&nbsp;</td><td>is a description, such as "Credit Card" </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$strtendercode</em>&nbsp;</td><td>is a 1-2 character code, such as "CC" </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$dbltendered</em>&nbsp;</td><td>is the amount. Remember that payments are <em>negative</em> amounts. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$numflag</em>&nbsp;</td><td>[int] </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$charflag</em>&nbsp;</td><td>[1-2 character string]</td></tr>
  </table>
</dl>
Flags are meant to store generic additional data as needed. For example, numflag might contain a record ID corresponding to table(s) of additional processor data on an integrated transaction. 
</div>
</div><p>
<a class="anchor" name="cf234ef07ffa61b6a11109b58e339082"></a><!-- doxytag: member="TransRecord::addfsones" ref="cf234ef07ffa61b6a11109b58e339082" args="($intfsones)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static TransRecord::addfsones           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>intfsones</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add a foodstamp change record <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$intfsones</em>&nbsp;</td><td>the change amount</td></tr>
  </table>
</dl>
Please do verify cashback is permitted with EBT transactions in your area before using this. 
</div>
</div><p>
<a class="anchor" name="dd239f182e81d4591f03a9d79b26b602"></a><!-- doxytag: member="TransRecord::addfsTaxExempt" ref="dd239f182e81d4591f03a9d79b26b602" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static TransRecord::addfsTaxExempt           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add tax exemption for foodstamps 
</div>
</div><p>
<a class="anchor" name="fe1d4ee041ad8178ba5f330be83c24f8"></a><!-- doxytag: member="TransRecord::addhousecoupon" ref="fe1d4ee041ad8178ba5f330be83c24f8" args="($strupc, $intdepartment, $dbltotal, $description='')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static TransRecord::addhousecoupon           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>strupc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>intdepartment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>dbltotal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>description</em> = <code>''</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add an in-store coupon <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$strupc</em>&nbsp;</td><td>coupon UPC </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$intdepartment</em>&nbsp;</td><td>associated POS department </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$dbltotal</em>&nbsp;</td><td>coupon amount (should be negative) </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="63c34a6abb06ad1ce1c961e60ee9eab6"></a><!-- doxytag: member="TransRecord::addItem" ref="63c34a6abb06ad1ce1c961e60ee9eab6" args="($strupc, $strdescription, $strtransType, $strtranssubType, $strtransstatus, $intdepartment, $dblquantity, $dblunitPrice, $dbltotal, $dblregPrice, $intscale, $inttax, $intfoodstamp, $dbldiscount, $dblmemDiscount, $intdiscountable, $intdiscounttype, $dblItemQtty, $intvolDiscType, $intvolume, $dblVolSpecial, $intmixMatch, $intmatched, $intvoided, $cost=0, $numflag=0, $charflag='')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static TransRecord::addItem           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>strupc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>strdescription</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>strtransType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>strtranssubType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>strtransstatus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>intdepartment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>dblquantity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>dblunitPrice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>dbltotal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>dblregPrice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>intscale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>inttax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>intfoodstamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>dbldiscount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>dblmemDiscount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>intdiscountable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>intdiscounttype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>dblItemQtty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>intvolDiscType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>intvolume</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>dblVolSpecial</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>intmixMatch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>intmatched</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>intvoided</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>cost</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>numflag</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>charflag</em> = <code>''</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add an item to localtemptrans. Parameters correspond to columns in localtemptrans. See that table for valid types. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$strupc</em>&nbsp;</td><td>localtemptrans.upc </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$strdescription</em>&nbsp;</td><td>localtemptrans.description </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$strtransType</em>&nbsp;</td><td>localtemptrans.trans_type </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$strtranssubType</em>&nbsp;</td><td>localtemptrans.trans_subtype </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$strtransstatuts</em>&nbsp;</td><td>localtemptrans.trans_status </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$dblquantity</em>&nbsp;</td><td>localtemptrans.quantity </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$dblunitPrice</em>&nbsp;</td><td>localtemptrans.unitPrice </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$dbltotal</em>&nbsp;</td><td>localtemptrans.total </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$dblregPrice</em>&nbsp;</td><td>localtemptrans.regPrice </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$intscale</em>&nbsp;</td><td>localtemptrans.scale </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$inttax</em>&nbsp;</td><td>localtemptrans.tax </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$intfoodstamp</em>&nbsp;</td><td>localtemptrans.foodstamp </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$dbldiscount</em>&nbsp;</td><td>localtemptrans.discount </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$dblmemDiscount</em>&nbsp;</td><td>localtemptrans.memDiscount </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$intdiscountable</em>&nbsp;</td><td>localtemptrans.discounttable </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$intdiscounttype</em>&nbsp;</td><td>localtemptrans.discounttype </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$dblItemQtty</em>&nbsp;</td><td>localtemptrans.ItemQtty </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$intvolDiscType</em>&nbsp;</td><td>localtemptrans.volDiscType </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$intvolume</em>&nbsp;</td><td>localtemptrans.volume </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$dblVolSpecial</em>&nbsp;</td><td>localtemptrans.VolSpecial </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$intmixMatch</em>&nbsp;</td><td>localtemptrans.mixMatch </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$intmatched</em>&nbsp;</td><td>localtemptrans.matched </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$intvoided</em>&nbsp;</td><td>localtemptrans.voided </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$cost</em>&nbsp;</td><td>localtemptrans.cost </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$numflag</em>&nbsp;</td><td>localtemptrans.numflag </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$charflag</em>&nbsp;</td><td>localtemptrans.charflag</td></tr>
  </table>
</dl>
In many cases there is a simpler function that takes far fewer arguments and adds a specific type of record. All such functions should be in this file. 
</div>
</div><p>
<a class="anchor" name="de708b0df8fd849be1c05163133db53b"></a><!-- doxytag: member="TransRecord::additemdiscount" ref="de708b0df8fd849be1c05163133db53b" args="($intdepartment, $dbltotal)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static TransRecord::additemdiscount           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>intdepartment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>dbltotal</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add a line-item discount <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$intdepartment</em>&nbsp;</td><td>POS department </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$dbltotal</em>&nbsp;</td><td>discount amount (should be <b>positive</b>) </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="759d59ead14f99a3056f05633c30478d"></a><!-- doxytag: member="TransRecord::addLogRecord" ref="759d59ead14f99a3056f05633c30478d" args="($opts)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static TransRecord::addLogRecord           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>opts</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add a log entry to the transaction table. Log records do not appear onscreen or on receipts.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$opts</em>&nbsp;</td><td>keyed array. Currently valid keys are:<ul>
<li>upc</li><li>description</li><li>department</li><li>numflag</li><li>charflag</li><li>amount1</li><li>amount2</li></ul>
</td></tr>
  </table>
</dl>
All keys are optional and will be left blank or zero if omitted. Log records have trans_status 'X', trans_type 'L', and trans_subtype 'OG'. Amount1 and Amount2 are reflected in total and regPrice (respectively). The other values go in the correspondingly named columns. 
</div>
</div><p>
<a class="anchor" name="97deec93808990b89c6cecdc59f9679e"></a><!-- doxytag: member="TransRecord::addQueued" ref="97deec93808990b89c6cecdc59f9679e" args="($upc, $description, $numflag=0, $charflag='', $regPrice=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static TransRecord::addQueued           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>upc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>description</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>numflag</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>charflag</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>regPrice</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add a item, but not until the end of the transaction Use this for records that shouldn't be displayed<p>
Note: <a class="el" href="class_trans_record.html#759d59ead14f99a3056f05633c30478d">TransRecord::addLogRecord()</a> can be used to add non-display records to the transaction instantly 
</div>
</div><p>
<a class="anchor" name="2634ef142976b2ad06218053a1822a6b"></a><!-- doxytag: member="TransRecord::addRecord" ref="2634ef142976b2ad06218053a1822a6b" args="($named_params)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static TransRecord::addRecord           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>named_params</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Wrapper for addItem that accepted a keyed array instead of many, MANY arguments. All keys are optional and will have the default values listed below if ommitted (read the actual method) <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$named_params</em>&nbsp;</td><td>[keyed array] </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>[none] </dd></dl>

</div>
</div><p>
<a class="anchor" name="201d107cf10964397c6f77bf582674bd"></a><!-- doxytag: member="TransRecord::addTare" ref="201d107cf10964397c6f77bf582674bd" args="($dbltare)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static TransRecord::addTare           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>dbltare</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add a tare record <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$dbltare</em>&nbsp;</td><td>the tare weight. The weight gets divided by 100, so an argument of 5 gives tare 0.05 </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="baf177ed7faaea716cf776e0a3fe7a37"></a><!-- doxytag: member="TransRecord::addtax" ref="baf177ed7faaea716cf776e0a3fe7a37" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static TransRecord::addtax           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add a tax record to the transaction. Amount is pulled from session info automatically. 
</div>
</div><p>
<a class="anchor" name="c990dbf077f0ebfea81517ee0d0b0dfe"></a><!-- doxytag: member="TransRecord::addTaxExempt" ref="c990dbf077f0ebfea81517ee0d0b0dfe" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static TransRecord::addTaxExempt           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add tax exemption record to transaction 
</div>
</div><p>
<a class="anchor" name="033a179d2a527f2a6a815ab1851eb663"></a><!-- doxytag: member="TransRecord::addtender" ref="033a179d2a527f2a6a815ab1851eb663" args="($strtenderdesc, $strtendercode, $dbltendered)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static TransRecord::addtender           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>strtenderdesc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>strtendercode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>dbltendered</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add a tender record to the transaction <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$strtenderdesc</em>&nbsp;</td><td>is a description, such as "Credit Card" </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$strtendercode</em>&nbsp;</td><td>is a 1-2 character code, such as "CC" </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$dbltendered</em>&nbsp;</td><td>is the amount. Remember that payments are <em>negative</em> amounts. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="e31e72ac5c8e9a18de06d1ff48fa6a97"></a><!-- doxytag: member="TransRecord::addTransDiscount" ref="e31e72ac5c8e9a18de06d1ff48fa6a97" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static TransRecord::addTransDiscount           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add transaction discount record 
</div>
</div><p>
<a class="anchor" name="2ec7d613f6fa0e0ebf653f836eccd7d0"></a><!-- doxytag: member="TransRecord::addVirtualCoupon" ref="2ec7d613f6fa0e0ebf653f836eccd7d0" args="($id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static TransRecord::addVirtualCoupon           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>id</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add a virtual coupon by ID <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$id</em>&nbsp;</td><td>identifier in the VirtualCoupon table </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="fbf5148075acf4997607dc8780a3eb7a"></a><!-- doxytag: member="TransRecord::discountnotify" ref="fbf5148075acf4997607dc8780a3eb7a" args="($strl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static TransRecord::discountnotify           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>strl</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add a information record showing transaction percent discount <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$strl</em>&nbsp;</td><td>the percentage </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="ad11ee7b7004548b06c3e5527d467986"></a><!-- doxytag: member="TransRecord::emptyQueue" ref="ad11ee7b7004548b06c3e5527d467986" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static TransRecord::emptyQueue           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add records queued by <a class="el" href="class_trans_record.html#97deec93808990b89c6cecdc59f9679e">TransRecord::addQueued</a> to the current transaction then clear the queue. Records get trans_type C, trans_status D 
</div>
</div><p>
<a class="anchor" name="5331abddf2f479cdcc7527f877a271d4"></a><!-- doxytag: member="TransRecord::finalizeTransaction" ref="5331abddf2f479cdcc7527f877a271d4" args="($incomplete=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static TransRecord::finalizeTransaction           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>incomplete</em> = <code>false</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Finish the current transaction <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$incomplete</em>&nbsp;</td><td>[boolean] optional, default false</td></tr>
  </table>
</dl>
This method: 1) Adds tax and discount lines if transaction is complete (i.e., $incomplete == false) 2) Rotates data out of localtemptrans 3) Advances trans_no variable to next available value<p>
This method replaces older ajax-end.php / end.php operations where the receipt was printed first and then steps 1-3 above happened. This method should be called BEFORE printing a receipt. Receipts are now always printed via localtranstoday. 
</div>
</div><p>
<a class="anchor" name="1b2589f7d1e96ee1eefbfefaf24a15f5"></a><!-- doxytag: member="TransRecord::reverseTaxExempt" ref="1b2589f7d1e96ee1eefbfefaf24a15f5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static TransRecord::reverseTaxExempt           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add record to undo tax exemption 
</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>pos/is4c-nf/lib/TransRecord.php</ul>
<hr size="1"><address style="align: right;"><small>Generated on 11 Sep 2014 for CORE POS - IS4C by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
