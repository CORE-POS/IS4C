<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>CORE POS - IS4C: PrehLib Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li id="current"><a href="classes.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
    <li><a href="examples.html"><span>Examples</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<h1>PrehLib Class Reference</h1><!-- doxytag: class="PrehLib" --><!-- doxytag: inherits="LibraryClass" --><p>Inheritance diagram for PrehLib:
<p><center><img src="class_preh_lib.png" usemap="#PrehLib_map" border="0" alt=""></center>
<map name="PrehLib_map">
<area href="class_library_class.html" alt="LibraryClass" shape="rect" coords="0,0,84,24">
</map>
<a href="class_preh_lib-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preh_lib.html#21622b617a4ceefe9fff510aa0031e73">clearMember</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preh_lib.html#250152d649b618ba52c2dc0b1e532e6c">memberID</a> ($member_number)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1b9e7cc22a95e1278a7855af9344595d"></a><!-- doxytag: member="PrehLib::requestInfoCallback" ref="1b9e7cc22a95e1278a7855af9344595d" args="($info)" -->
static&nbsp;</td><td class="memItemRight" valign="bottom"><b>requestInfoCallback</b> ($info)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preh_lib.html#2ef4fc77208466cb48558a4d8081eca7">setAltMemMsg</a> ($store, $member, $personNumber, $row, $chargeOk)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preh_lib.html#8069b3b2ab8043a22c2255db7c3a39c2">setMember</a> ($member, $personNumber, $row)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preh_lib.html#467f33f366e690132836e19b0e9546fd">checkUnpaidAR</a> ($cardno)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a50e492c46b2695acd664db39a745130"></a><!-- doxytag: member="PrehLib::check_unpaid_ar" ref="a50e492c46b2695acd664db39a745130" args="($cardno)" -->
static&nbsp;</td><td class="memItemRight" valign="bottom"><b>check_unpaid_ar</b> ($cardno)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preh_lib.html#0364d8f19d34eba20a685721d780ce55">checkstatus</a> ($num)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preh_lib.html#968e1bd2be552183b77c1f79323330f2">tender</a> ($right, $strl)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preh_lib.html#7c26d662e64f0e1717a8c96356124d0a">deptkey</a> ($price, $dept, $ret=array())</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preh_lib.html#f9b1934491a95a26dcb42f0a66e4f919">ttl</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preh_lib.html#567cd27adb4979abc8e74f45f9be2f14">omtr_ttl</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preh_lib.html#cfedde08ba4427337b5722b5c6fbbc09">wicableTotal</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preh_lib.html#e599664e2b7042bbb108846bac16b2db">peekItem</a> ($full_record=false)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preh_lib.html#89a499378c8bdb90e8f334424b5ffa74">finalttl</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preh_lib.html#385cfa1d833817523a55d8ec8ca48192">fsEligible</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preh_lib.html#1e6d503cd0df830c2603f089e06ec3f6">percentDiscount</a> ($strl, $json=array())</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preh_lib.html#c7b49f669743a34195e4c132d3e33a70">chargeOk</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2646d1f9afa89b2bc12c425f0169d775"></a><!-- doxytag: member="PrehLib::$requestInfoHeader" ref="2646d1f9afa89b2bc12c425f0169d775" args="" -->
static&nbsp;</td><td class="memItemRight" valign="bottom"><b>$requestInfoHeader</b> = 'member gift'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c582998af27ab7014345059a341c1184"></a><!-- doxytag: member="PrehLib::$requestInfoMsg" ref="c582998af27ab7014345059a341c1184" args="" -->
static&nbsp;</td><td class="memItemRight" valign="bottom"><b>$requestInfoMsg</b> = 'Card for which member?'</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
A horrible, horrible catch-all clutter of functions 
<p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="c7b49f669743a34195e4c132d3e33a70"></a><!-- doxytag: member="PrehLib::chargeOk" ref="c7b49f669743a34195e4c132d3e33a70" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static PrehLib::chargeOk           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check whether the current member has store charge balance available. <dl compact><dt><b>Returns:</b></dt><dd>1 - Yes 0 - No</dd></dl>
Sets current balance in $CORE_LOCAL as "balance". Sets available balance in $CORE_LOCAL as "availBal". 
</div>
</div><p>
<a class="anchor" name="0364d8f19d34eba20a685721d780ce55"></a><!-- doxytag: member="PrehLib::checkstatus" ref="0364d8f19d34eba20a685721d780ce55" args="($num)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static PrehLib::checkstatus           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>num</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check if an item is voided or a refund <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$num</em>&nbsp;</td><td>item trans_id in localtemptrans </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>array of status information with keys:<ul>
<li>voided (int)</li><li>scaleprice (numeric)</li><li>discountable (int)</li><li>discounttype (int)</li><li>caseprice (numeric)</li><li>refund (boolean)</li><li>status (string) </li></ul>
</dd></dl>

</div>
</div><p>
<a class="anchor" name="467f33f366e690132836e19b0e9546fd"></a><!-- doxytag: member="PrehLib::checkUnpaidAR" ref="467f33f366e690132836e19b0e9546fd" args="($cardno)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static PrehLib::checkUnpaidAR           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>cardno</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check if the member has overdue store charge balance <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$cardno</em>&nbsp;</td><td>member number </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>True or False</dd></dl>
The logic for what constitutes past due has to be built into the unpaid_ar_today view. Without that this function doesn't really do much. 
</div>
</div><p>
<a class="anchor" name="21622b617a4ceefe9fff510aa0031e73"></a><!-- doxytag: member="PrehLib::clearMember" ref="21622b617a4ceefe9fff510aa0031e73" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static PrehLib::clearMember           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Remove member number from current transaction 
</div>
</div><p>
<a class="anchor" name="7c26d662e64f0e1717a8c96356124d0a"></a><!-- doxytag: member="PrehLib::deptkey" ref="7c26d662e64f0e1717a8c96356124d0a" args="($price, $dept, $ret=array())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static PrehLib::deptkey           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>price</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>dept</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>ret</em> = <code>array()</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add an open ring to a department <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$price</em>&nbsp;</td><td>amount in cents (100 = $1) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$dept</em>&nbsp;</td><td>POS department  an array of return values </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>An array. See <a class="el" href="class_parser.html#0076d421db25e8eb844d0ecc093688ad">Parser::default_json()</a> for format explanation. </dd></dl>

<p>
Enforce memberOnly flag 
</div>
</div><p>
<a class="anchor" name="89a499378c8bdb90e8f334424b5ffa74"></a><!-- doxytag: member="PrehLib::finalttl" ref="89a499378c8bdb90e8f334424b5ffa74" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static PrehLib::finalttl           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add tax and transaction discount records. This is called at the end of a transaction. There's probably no other place where calling this function is appropriate. 
</div>
</div><p>
<a class="anchor" name="385cfa1d833817523a55d8ec8ca48192"></a><!-- doxytag: member="PrehLib::fsEligible" ref="385cfa1d833817523a55d8ec8ca48192" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static PrehLib::fsEligible           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add foodstamp elgibile total record 
</div>
</div><p>
<a class="anchor" name="250152d649b618ba52c2dc0b1e532e6c"></a><!-- doxytag: member="PrehLib::memberID" ref="250152d649b618ba52c2dc0b1e532e6c" args="($member_number)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static PrehLib::memberID           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>member_number</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set member number for transaction <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$member_number</em>&nbsp;</td><td>CardNo from custdata </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>An array. See <a class="el" href="class_parser.html#0076d421db25e8eb844d0ecc093688ad">Parser::default_json()</a> for format.</dd></dl>
This function will either assign the number to the current transaction or return a redirect request to get more input. If you want the cashier to verify member name from a list, use this function. If you want to force the number to be set immediately, use <a class="el" href="class_preh_lib.html#8069b3b2ab8043a22c2255db7c3a39c2">setMember()</a>. 
<p>
This is a bad idea. If the search is cancelled, these fields won't be refreshed with new data $CORE_LOCAL-&gt;set("memberID","0"); $CORE_LOCAL-&gt;set("memType",0); $CORE_LOCAL-&gt;set("percentDiscount",0); $CORE_LOCAL-&gt;set("memMsg",""); 
</div>
</div><p>
<a class="anchor" name="567cd27adb4979abc8e74f45f9be2f14"></a><!-- doxytag: member="PrehLib::omtr_ttl" ref="567cd27adb4979abc8e74f45f9be2f14" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static PrehLib::omtr_ttl           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Total the transaction, which the cashier thinks may be eligible for the Ontario Meal Tax Rebate. <dl compact><dt><b>Returns:</b></dt><dd>True - total successfully String - URL</dd></dl>
If <a class="el" href="class_preh_lib.html#f9b1934491a95a26dcb42f0a66e4f919">ttl()</a> returns a string, go to that URL for more information on the error or to resolve the problem.<p>
The most common error, by far, is no member number in which case the return value is the member-entry page.<p>
The Ontario Meal Tax Rebate refunds the provincial part of the Harmonized Sales Tax if the total of the transaction is not more than a certain amount.<p>
If the transaction qualifies, change the tax status for each item at the higher rate to the lower rate. Display a message that a change was made. Otherwise display a message about that. Total the transaction as usual. 
</div>
</div><p>
<a class="anchor" name="e599664e2b7042bbb108846bac16b2db"></a><!-- doxytag: member="PrehLib::peekItem" ref="e599664e2b7042bbb108846bac16b2db" args="($full_record=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static PrehLib::peekItem           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>full_record</em> = <code>false</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
See what the last item in the transaction is currently <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$full_record</em>&nbsp;</td><td>[boolean] return full database record. Default is false. Just returns description. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>localtemptrans.description for the last item or localtemptrans record for the last item</dd></dl>
If no record exists, returns false 
</div>
</div><p>
<a class="anchor" name="1e6d503cd0df830c2603f089e06ec3f6"></a><!-- doxytag: member="PrehLib::percentDiscount" ref="1e6d503cd0df830c2603f089e06ec3f6" args="($strl, $json=array())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static PrehLib::percentDiscount           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>strl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>json</em> = <code>array()</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add a percent discount notification <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$strl</em>&nbsp;</td><td>discount percentage </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$json</em>&nbsp;</td><td>keyed array </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>An array see <a class="el" href="class_parser.html#0076d421db25e8eb844d0ecc093688ad">Parser::default_json()</a> </dd></dl>
<dl compact><dt><b><a class="el" href="deprecated.html#_deprecated000007">Deprecated:</a></b></dt><dd>Use discountnotify() instead. This just adds hard-coded percentages and PLUs that likely aren't applicable anywhere but the Wedge. </dd></dl>

</div>
</div><p>
<a class="anchor" name="2ef4fc77208466cb48558a4d8081eca7"></a><!-- doxytag: member="PrehLib::setAltMemMsg" ref="2ef4fc77208466cb48558a4d8081eca7" args="($store, $member, $personNumber, $row, $chargeOk)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static PrehLib::setAltMemMsg           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>store</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>member</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>personNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>chargeOk</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Assign store-specific alternate member message line <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$store</em>&nbsp;</td><td>code for the coop </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$member</em>&nbsp;</td><td>CardNo from custdata </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$personNumber</em>&nbsp;</td><td>personNum from custdata </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$row</em>&nbsp;</td><td>a record from custdata </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$chargeOk</em>&nbsp;</td><td>whether member can store-charge purchases </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="8069b3b2ab8043a22c2255db7c3a39c2"></a><!-- doxytag: member="PrehLib::setMember" ref="8069b3b2ab8043a22c2255db7c3a39c2" args="($member, $personNumber, $row)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static PrehLib::setMember           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>member</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>personNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>row</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Assign a member number to a transaction <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$member</em>&nbsp;</td><td>CardNo from custdata </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$personNumber</em>&nbsp;</td><td>personNum from custdata </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$row</em>&nbsp;</td><td>a record from custdata</td></tr>
  </table>
</dl>
See <a class="el" href="class_preh_lib.html#250152d649b618ba52c2dc0b1e532e6c">memberID()</a> for more information. 
<p>
Use discount module to calculate modified percentDiscount 
</div>
</div><p>
<a class="anchor" name="968e1bd2be552183b77c1f79323330f2"></a><!-- doxytag: member="PrehLib::tender" ref="968e1bd2be552183b77c1f79323330f2" args="($right, $strl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static PrehLib::tender           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>right</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>strl</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add a tender to the transaction<p>
tender amount in cents (100 = $1)  tender code from tenders table <dl compact><dt><b>Returns:</b></dt><dd>An array see <a class="el" href="class_parser.html#0076d421db25e8eb844d0ecc093688ad">Parser::default_json()</a> for format explanation.</dd></dl>
This function will automatically end a transaction if the amount due becomes &lt;= zero. 
<p>
First use base module to check for error conditions common to all tenders<p>
Get a tender-specific module if one has been configured<p>
Do tender-specific error checking and prereqs 
</div>
</div><p>
<a class="anchor" name="f9b1934491a95a26dcb42f0a66e4f919"></a><!-- doxytag: member="PrehLib::ttl" ref="f9b1934491a95a26dcb42f0a66e4f919" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static PrehLib::ttl           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Total the transaction <dl compact><dt><b>Returns:</b></dt><dd>True - total successfully String - URL</dd></dl>
If <a class="el" href="class_preh_lib.html#f9b1934491a95a26dcb42f0a66e4f919">ttl()</a> returns a string, go to that URL for more information on the error or to resolve the problem.<p>
The most common error, by far, is no member number in which case the return value is the member-entry page. 
</div>
</div><p>
<a class="anchor" name="cfedde08ba4427337b5722b5c6fbbc09"></a><!-- doxytag: member="PrehLib::wicableTotal" ref="cfedde08ba4427337b5722b5c6fbbc09" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static PrehLib::wicableTotal           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Calculate WIC eligible total <dl compact><dt><b>Returns:</b></dt><dd>[number] WIC eligible items total </dd></dl>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>pos/is4c-nf/lib/PrehLib.php</ul>
<hr size="1"><address style="align: right;"><small>Generated on 11 Sep 2014 for CORE POS - IS4C by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
