<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>CORE POS - IS4C: COREPOS\pos\lib\MemberLib Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
</script>
<link rel="search" href="search-opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="CORE POS - IS4C"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CORE POS - IS4C
   </div>
   <div id="projectbrief">The CORE POS front end</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.php" method="get">
              <img id="MSearchSelect" src="search/mag.png" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>COREPOS</b></li><li class="navelem"><b>pos</b></li><li class="navelem"><b>lib</b></li><li class="navelem"><a class="el" href="class_c_o_r_e_p_o_s_1_1pos_1_1lib_1_1_member_lib.html">MemberLib</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="class_c_o_r_e_p_o_s_1_1pos_1_1lib_1_1_member_lib-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">COREPOS\pos\lib\MemberLib Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a222a4ca761d0b76aeb49f25a8fea90d8"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_o_r_e_p_o_s_1_1pos_1_1lib_1_1_member_lib.html#a222a4ca761d0b76aeb49f25a8fea90d8">clear</a> ()</td></tr>
<tr class="separator:a222a4ca761d0b76aeb49f25a8fea90d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fe7ed6a2837b2fbeb2f9ba72ed2e62c"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_o_r_e_p_o_s_1_1pos_1_1lib_1_1_member_lib.html#a9fe7ed6a2837b2fbeb2f9ba72ed2e62c">memberID</a> ($member_number)</td></tr>
<tr class="separator:a9fe7ed6a2837b2fbeb2f9ba72ed2e62c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f7a2c9abef8b8ddb4bc76fa2a9d83fb"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_o_r_e_p_o_s_1_1pos_1_1lib_1_1_member_lib.html#a9f7a2c9abef8b8ddb4bc76fa2a9d83fb">setAltMemMsg</a> ($store, $member, $personNumber, $row)</td></tr>
<tr class="separator:a9f7a2c9abef8b8ddb4bc76fa2a9d83fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a71ce9448990aefeae8943fb7914310"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_o_r_e_p_o_s_1_1pos_1_1lib_1_1_member_lib.html#a7a71ce9448990aefeae8943fb7914310">setMember</a> ($member, $personNumber, $row=array())</td></tr>
<tr class="separator:a7a71ce9448990aefeae8943fb7914310"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac97d6191c3adc2b607dbe027e711a57f"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_o_r_e_p_o_s_1_1pos_1_1lib_1_1_member_lib.html#ac97d6191c3adc2b607dbe027e711a57f">checkUnpaidAR</a> ($cardno)</td></tr>
<tr class="separator:ac97d6191c3adc2b607dbe027e711a57f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cd1827c3502c9b1384e36fa7e703bce"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_o_r_e_p_o_s_1_1pos_1_1lib_1_1_member_lib.html#a8cd1827c3502c9b1384e36fa7e703bce">chargeOk</a> ()</td></tr>
<tr class="separator:a8cd1827c3502c9b1384e36fa7e703bce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bc5c12f3d450a0f3b6e21bedf149a04"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0bc5c12f3d450a0f3b6e21bedf149a04"></a>
static&#160;</td><td class="memItemRight" valign="bottom"><b>getChgName</b> ()</td></tr>
<tr class="separator:a0bc5c12f3d450a0f3b6e21bedf149a04"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a8cd1827c3502c9b1384e36fa7e703bce"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static COREPOS\pos\lib\MemberLib::chargeOk </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Check whether the current member has store charge balance available. </p>
<dl class="section return"><dt>Returns</dt><dd>1 - Yes 0 - No</dd></dl>
<p>Sets current balance in session as "balance". Sets available balance in session as "availBal". </p>

</div>
</div>
<a class="anchor" id="ac97d6191c3adc2b607dbe027e711a57f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static COREPOS\pos\lib\MemberLib::checkUnpaidAR </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$cardno</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Check if the member has overdue store charge balance </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$cardno</td><td>member number </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True or False</dd></dl>
<p>The logic for what constitutes past due has to be built into the unpaid_ar_today view. Without that this function doesn't really do much. </p>

</div>
</div>
<a class="anchor" id="a222a4ca761d0b76aeb49f25a8fea90d8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static COREPOS\pos\lib\MemberLib::clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Remove member number from current transaction </p>

</div>
</div>
<a class="anchor" id="a9fe7ed6a2837b2fbeb2f9ba72ed2e62c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static COREPOS\pos\lib\MemberLib::memberID </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$member_number</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Begin setting a member number for a transaction </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$member_number</td><td>CardNo from custdata </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An array. See Parser::default_json() for format.</dd></dl>
<p>This function will either assign the number to the current transaction or return a redirect request to get more input. If you want the cashier to verify member name from a list, use this function. If you want to force the number to be set immediately, use <a class="el" href="class_c_o_r_e_p_o_s_1_1pos_1_1lib_1_1_member_lib.html#a7a71ce9448990aefeae8943fb7914310">setMember()</a>. </p>
<p>If only a single record exists for the member number, the member will be set immediately if:</p>
<ul>
<li>the account is the designated, catchall non-member</li>
<li>the verifyName setting is disabled</li>
</ul>
<p>Go to member search page in all other cases. If zero matching records are found, member search should be next. If multiple records are found, picking the correct name should be next. If verifyName is enabled, confirming the name should be next.</p>

</div>
</div>
<a class="anchor" id="a9f7a2c9abef8b8ddb4bc76fa2a9d83fb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static COREPOS\pos\lib\MemberLib::setAltMemMsg </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$store</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$member</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$personNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$row</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Assign store-specific alternate member message line </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$store</td><td>code for the coop </td></tr>
    <tr><td class="paramname">$member</td><td>CardNo from custdata </td></tr>
    <tr><td class="paramname">$personNumber</td><td>personNum from custdata </td></tr>
    <tr><td class="paramname">$row</td><td>a record from custdata </td></tr>
    <tr><td class="paramname">$chargeOk</td><td>whether member can store-charge purchases </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7a71ce9448990aefeae8943fb7914310"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static COREPOS\pos\lib\MemberLib::setMember </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$member</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$personNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$row</em> = <code>array()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Assign a member number to a transaction </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$member</td><td>CardNo from custdata </td></tr>
    <tr><td class="paramname">$personNumber</td><td>personNum from custdata</td></tr>
  </table>
  </dd>
</dl>
<p>See <a class="el" href="class_c_o_r_e_p_o_s_1_1pos_1_1lib_1_1_member_lib.html#a9fe7ed6a2837b2fbeb2f9ba72ed2e62c">memberID()</a> for more information. </p>
<p>Look up the member information here. There's no good reason to have calling code pass in a specially formatted row of data</p>
<p>Optinonally use memtype table to normalize attributes by member type</p>
<p>Set member number and attributes in the current transaction</p>
<p>Add the member discount</p>
<p>Log the member entry</p>
<p>Optionally add a subtotal line depending on member_subtotal setting.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>pos/is4c-nf/lib/MemberLib.php</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Sep 2 2016 11:30:50 for CORE POS - IS4C by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
