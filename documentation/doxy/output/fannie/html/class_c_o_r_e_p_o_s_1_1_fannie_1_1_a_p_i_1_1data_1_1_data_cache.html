<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>CORE POS - Fannie: COREPOS\Fannie\API\data\DataCache Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
</script>
<link rel="search" href="search-opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="CORE POS - Fannie"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CORE POS - Fannie
   </div>
   <div id="projectbrief">The CORE POS back end</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.php" method="get">
              <img id="MSearchSelect" src="search/mag.png" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>COREPOS</b></li><li class="navelem"><b>Fannie</b></li><li class="navelem"><b>API</b></li><li class="navelem"><b>data</b></li><li class="navelem"><a class="el" href="class_c_o_r_e_p_o_s_1_1_fannie_1_1_a_p_i_1_1data_1_1_data_cache.html">DataCache</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="class_c_o_r_e_p_o_s_1_1_fannie_1_1_a_p_i_1_1data_1_1_data_cache-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">COREPOS\Fannie\API\data\DataCache Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for COREPOS\Fannie\API\data\DataCache:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_c_o_r_e_p_o_s_1_1_fannie_1_1_a_p_i_1_1data_1_1_data_cache.png" usemap="#COREPOS\Fannie\API\data\DataCache_map" alt=""/>
  <map id="COREPOS\Fannie\API\data\DataCache_map" name="COREPOS\Fannie\API\data\DataCache_map">
<area href="class_data_cache.html" alt="DataCache" shape="rect" coords="0,56,235,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:af6c2eb196b1958be04d6e78e0d3c7f4f"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_o_r_e_p_o_s_1_1_fannie_1_1_a_p_i_1_1data_1_1_data_cache.html#af6c2eb196b1958be04d6e78e0d3c7f4f">genKey</a> ()</td></tr>
<tr class="separator:af6c2eb196b1958be04d6e78e0d3c7f4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00effa6efc9e7935962926b2f2c19354"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_o_r_e_p_o_s_1_1_fannie_1_1_a_p_i_1_1data_1_1_data_cache.html#a00effa6efc9e7935962926b2f2c19354">check</a> ($key=false)</td></tr>
<tr class="separator:a00effa6efc9e7935962926b2f2c19354"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f66b8dd6d19b0f4f7cd0850b8a89a6f"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_o_r_e_p_o_s_1_1_fannie_1_1_a_p_i_1_1data_1_1_data_cache.html#a9f66b8dd6d19b0f4f7cd0850b8a89a6f">freshen</a> ($data, $ttl='day', $key=false)</td></tr>
<tr class="separator:a9f66b8dd6d19b0f4f7cd0850b8a89a6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9df7dfdc40d1fc77d3f2cd1c0858c4d"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_o_r_e_p_o_s_1_1_fannie_1_1_a_p_i_1_1data_1_1_data_cache.html#ab9df7dfdc40d1fc77d3f2cd1c0858c4d">getFile</a> ($ttl, $key=false)</td></tr>
<tr class="separator:ab9df7dfdc40d1fc77d3f2cd1c0858c4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0defa829a26d45d06fd0170bece06ad7"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_o_r_e_p_o_s_1_1_fannie_1_1_a_p_i_1_1data_1_1_data_cache.html#a0defa829a26d45d06fd0170bece06ad7">putFile</a> ($ttl, $content, $key=false)</td></tr>
<tr class="separator:a0defa829a26d45d06fd0170bece06ad7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecc7745045de9f0cf6e01f3f9aefb732"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_o_r_e_p_o_s_1_1_fannie_1_1_a_p_i_1_1data_1_1_data_cache.html#aecc7745045de9f0cf6e01f3f9aefb732">fileCacheDir</a> ($type)</td></tr>
<tr class="separator:aecc7745045de9f0cf6e01f3f9aefb732"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Store data for later. This is a more generic caching option based on <a class="el" href="class_fannie_report_page.html">FannieReportPage</a>. Data is automatically keyed by URL (hint: use GET parameters instead of POST). In theory you can cache any serializable data structure. It's typically used for caching query results. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a00effa6efc9e7935962926b2f2c19354"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static COREPOS\Fannie\API\data\DataCache::check </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$key</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Look for cached data</p>
<p>Data is stored in the archive database, reportDataCache table.</p>
<p>The default key column is an MD5 hash of the current URL (minus the excel parameter, if present). This means your forms should use type GET if caching is enabled. If a key argument is provided, that key is hashed instead.</p>
<p>The data is stored as a serialized, gzcompressed string. </p>

</div>
</div>
<a class="anchor" id="aecc7745045de9f0cf6e01f3f9aefb732"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static COREPOS\Fannie\API\data\DataCache::fileCacheDir </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get filesystem path for storing cache data Auto-creates directories as needed </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$type</td><td>[string] monthly or daily </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>[string] path or false </dd></dl>

</div>
</div>
<a class="anchor" id="a9f66b8dd6d19b0f4f7cd0850b8a89a6f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static COREPOS\Fannie\API\data\DataCache::freshen </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$ttl</em> = <code>'day'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$key</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Store data in the cache </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$data</td><td>the data </td></tr>
    <tr><td class="paramname">$ttl</td><td>how long data is valid. Options are 'day' and 'month' </td></tr>
    <tr><td class="paramname">$key</td><td>[optional] custom lookup key </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True or False based on success</dd></dl>
<p>See <a class="el" href="class_c_o_r_e_p_o_s_1_1_fannie_1_1_a_p_i_1_1data_1_1_data_cache.html#a00effa6efc9e7935962926b2f2c19354">check()</a> for details </p>

</div>
</div>
<a class="anchor" id="af6c2eb196b1958be04d6e78e0d3c7f4f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static COREPOS\Fannie\API\data\DataCache::genKey </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Generate default hash value for caching. Uses request URI excluding output formatting options</p>
<dl class="section return"><dt>Returns</dt><dd>md5 string </dd></dl>

</div>
</div>
<a class="anchor" id="ab9df7dfdc40d1fc77d3f2cd1c0858c4d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static COREPOS\Fannie\API\data\DataCache::getFile </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$ttl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$key</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get info from filesystem cache </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$ttl</td><td>[string] daily or monthly </td></tr>
    <tr><td class="paramname">$key</td><td>[optional] use custom key </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>cached content or false </dd></dl>

</div>
</div>
<a class="anchor" id="a0defa829a26d45d06fd0170bece06ad7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static COREPOS\Fannie\API\data\DataCache::putFile </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$ttl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$content</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$key</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Store info to filesystem cache </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$ttl</td><td>[string] monthly or daily </td></tr>
    <tr><td class="paramname">$content</td><td>[string] content to cache </td></tr>
    <tr><td class="paramname">$key</td><td>[optional] custom key </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>[boolean] true or false </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>fannie/classlib2.0/data/DataCache.php</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Sep 2 2016 11:31:13 for CORE POS - Fannie by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
