<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>CORE POS - Fannie: FannieRESTfulPage Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="classes.html"><span>Classes</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
    <li><a href="examples.html"><span>Examples</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<h1>FannieRESTfulPage Class Reference</h1><!-- doxytag: class="FannieRESTfulPage" --><!-- doxytag: inherits="FanniePage" --><p>Inheritance diagram for FannieRESTfulPage:
<p><center><img src="class_fannie_r_e_s_tful_page.png" usemap="#FannieRESTfulPage_map" border="0" alt=""></center>
<map name="FannieRESTfulPage_map">
<area href="class_fannie_page.html" alt="FanniePage" shape="rect" coords="0,0,130,24">
<area href="class_sa_price_change_page.html" alt="SaPriceChangePage" shape="rect" coords="0,112,130,136">
</map>
<a href="class_fannie_r_e_s_tful_page-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fannie_r_e_s_tful_page.html#b248b5009c98297c3346aa2915a38198">readRoutes</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fannie_r_e_s_tful_page.html#e329897c576b0f04691c4b5c5f4e7102">preprocess</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f0ea1761f325f8c2c3af16985c52b20d"></a><!-- doxytag: member="FannieRESTfulPage::bodyContent" ref="f0ea1761f325f8c2c3af16985c52b20d" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>bodyContent</b> ()</td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fannie_r_e_s_tful_page.html#fdc093f79eff94c8c011947897931ae8">unknownRequestHandler</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fannie_r_e_s_tful_page.html#d9d19fea0f22d6b25d3d7b9c94fafe58">unknownRequestView</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fannie_r_e_s_tful_page.html#a89bdea912b8fc2e6c2e47503e95ee2d">getModel</a> ($database_connection, $class, $params, $find=False)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="be81e41b1c5290f9a8cab50957d68240"></a><!-- doxytag: member="FannieRESTfulPage::get_model" ref="be81e41b1c5290f9a8cab50957d68240" args="($database_connection, $class, $params, $find=False)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>get_model</b> ($database_connection, $class, $params, $find=False)</td></tr>

<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ff9f062ac5b7b0bd6ba89d15aa456bb5"></a><!-- doxytag: member="FannieRESTfulPage::$__method" ref="ff9f062ac5b7b0bd6ba89d15aa456bb5" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>$__method</b> = ''</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="edc5c357438ee3d1d109fb44f894d902"></a><!-- doxytag: member="FannieRESTfulPage::$__models" ref="edc5c357438ee3d1d109fb44f894d902" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>$__models</b> = array()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fannie_r_e_s_tful_page.html#2ba99eea842d834507df28b700554d1a">$__routes</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="9f55b24e384acd32db2eabb0d6f1b2c5"></a><!-- doxytag: member="FannieRESTfulPage::$__route_stem" ref="9f55b24e384acd32db2eabb0d6f1b2c5" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>$__route_stem</b> = 'unknownRequest'</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
A variation on the standard <a class="el" href="class_fannie_page.html">FanniePage</a> using REST principles.<p>
Four methods are available for processing user input and are automatically called based on HTTP request type:<ul>
<li>getHandler</li><li>postHandler</li><li>putHandler</li><li>deleteHandler These methods behave like <a class="el" href="class_fannie_page.html#860186d52b9e42718ce40a24f3d1dbac">FanniePage::preprocess</a>; there are just four options automatically</li></ul>
<p>
Eight methods are available for displaying the page and are also automatically called based on request type:<ul>
<li>getView</li><li>get_idView</li><li>postView</li><li>post_idView</li><li>putView</li><li>put_idView</li><li>deleteView</li><li>delete_idView These methods behave like <a class="el" href="class_fannie_page.html#f8d91e5f3fb0fe2c5024f79c82ab903b">FanniePage::body_content</a>; again there are just more options.</li></ul>
<p>
A class does not need to implement handlers or views for all request types. Use as few or as many as needed.<p>
PUT and DELETE are simulated by setting a form field named "_method". 
<p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a89bdea912b8fc2e6c2e47503e95ee2d"></a><!-- doxytag: member="FannieRESTfulPage::getModel" ref="a89bdea912b8fc2e6c2e47503e95ee2d" args="($database_connection, $class, $params, $find=False)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FannieRESTfulPage::getModel           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>database_connection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>class</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>find</em> = <code>False</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Load model(s) <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$database_connection</em>&nbsp;</td><td><a class="el" href="class_s_q_l_manager.html">SQLManager</a> object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$class</em>&nbsp;</td><td>string name of model class </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$params</em>&nbsp;</td><td>array of column names and values </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$find</em>&nbsp;</td><td>[optional] string sort column or False </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>model object or array or model objects</dd></dl>
If called without $find or $find=False returns a single model object. Provided $params must be sufficient to uniquely identify a single record<p>
If called with $find then returns an array of model objects for all records that match $params and sorted by $find. 
</div>
</div><p>
<a class="anchor" name="e329897c576b0f04691c4b5c5f4e7102"></a><!-- doxytag: member="FannieRESTfulPage::preprocess" ref="e329897c576b0f04691c4b5c5f4e7102" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FannieRESTfulPage::preprocess           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Handle pre-display tasks such as input processing <dl compact><dt><b>Returns:</b></dt><dd><ul>
<li>True if the page should be displayed</li><li>False to stop here</li></ul>
</dd></dl>
Common uses include redirecting to a different module and altering body content based on input 
<p>
Reimplemented from <a class="el" href="class_fannie_page.html#860186d52b9e42718ce40a24f3d1dbac">FanniePage</a>.
<p>
Reimplemented in <a class="el" href="class_sa_price_change_page.html#1cc6ea33e6862a9017248eb46726ffd7">SaPriceChangePage</a>.
</div>
</div><p>
<a class="anchor" name="b248b5009c98297c3346aa2915a38198"></a><!-- doxytag: member="FannieRESTfulPage::readRoutes" ref="b248b5009c98297c3346aa2915a38198" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FannieRESTfulPage::readRoutes           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Parse request info and determine which route to use 
</div>
</div><p>
<a class="anchor" name="fdc093f79eff94c8c011947897931ae8"></a><!-- doxytag: member="FannieRESTfulPage::unknownRequestHandler" ref="fdc093f79eff94c8c011947897931ae8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FannieRESTfulPage::unknownRequestHandler           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Process unknown HTTP method request <dl compact><dt><b>Returns:</b></dt><dd>boolean Returning True draws the page Returning False does not </dd></dl>

</div>
</div><p>
<a class="anchor" name="d9d19fea0f22d6b25d3d7b9c94fafe58"></a><!-- doxytag: member="FannieRESTfulPage::unknownRequestView" ref="d9d19fea0f22d6b25d3d7b9c94fafe58" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FannieRESTfulPage::unknownRequestView           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Draw default page for unknown HTTP method <dl compact><dt><b>Returns:</b></dt><dd>HTML string </dd></dl>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="2ba99eea842d834507df28b700554d1a"></a><!-- doxytag: member="FannieRESTfulPage::$__routes" ref="2ba99eea842d834507df28b700554d1a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FannieRESTfulPage::$__routes<code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> array(
        'get',
        'get&lt;id&gt;',
        'post',
        'post&lt;id&gt;',
        'put',
        'put&lt;id&gt;',
        '<span class="keyword">delete</span>',
        'delete&lt;id&gt;'
    )
</pre></div>Define available routes Syntax is request method followed by parameter names in angle brackets<p>
method&lt;one&gt;&lt;two&gt; should provide a controller function named method_one_twoHandler(). It may optionally provide a view function named method_one_twoView().<p>
controller functions behave like <a class="el" href="class_fannie_page.html#860186d52b9e42718ce40a24f3d1dbac">FanniePage::preprocess</a> and should return True or False.<p>
view functions behave like <a class="el" href="class_fannie_page.html#f8d91e5f3fb0fe2c5024f79c82ab903b">FanniePage::body_content</a> and should return an HTML string 
</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>fannie/classlib2.0/FannieRESTfulPage.php</ul>
<hr size="1"><address style="align: right;"><small>Generated on 11 Sep 2014 for CORE POS - Fannie by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
